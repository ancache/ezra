# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://jashkenas.github.com/coffee-script/
$(document).ready ->
	soundManager.url = "<%= asset_path('soundmanager2_debug.swf') %>"
	soundManager.debug = false
	soundManager.useHighPerformance = true
	soundManager.useFastPolling = true
	soundManager.useHTML5Audio = true


	PP_CONFIG = {
		autoStart: false,      # begin playing first sound when page loads
		playNext: true,        # stop after one sound, or play through list until end
		useThrottling: false,  # try to rate-limit potentially-expensive calls (eg. dragging position around)</span>
		usePeakData: true,     # [Flash 9 only] whether or not to show peak data (left/right channel values) - nor noticable on CPU
		useWaveformData: false,# [Flash 9 only] show raw waveform data - WARNING: LIKELY VERY CPU-HEAVY
		useEQData: false,      # [Flash 9 only] show EQ (frequency spectrum) data
		useFavIcon: false      # try to apply peakData to address bar (Firefox + Opera) - performance note: appears to make Firefox 3 do some temporary, heavy disk access/swapping/garbage collection at first(?) - may be too heavy on CPU
	}

	confirmed = $('#selections').attr("data-loaded")
	$('.status-box').tooltip()
	$('[data-status='+confirmed+']').addClass('selected')
	parseLocation($('#location').attr("data-value"))

	$('.status-box').click ->
		value = $(this).attr("data-status")
		$('.status-box').filter( -> $(this).attr("data-status") isnt value).removeClass('selected')
		$(this).addClass("selected")
		$('#hit_confirmed').val(value)

parseLocation = (time) ->
	$('#location').html(time)

